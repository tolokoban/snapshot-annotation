"use strict";(self.webpackChunksnapshot_annotation=self.webpackChunksnapshot_annotation||[]).push([[143],{164:(n,e,t)=>{t.d(e,{Z:()=>s});var r=t(81),o=t.n(r),i=t(645),a=t.n(i)()(o());a.push([n.id,"div.App {\n    --menu-width: 300px;\n    position: absolute;\n    left: 0;\n    top: 0;\n    top: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n}\n\ndiv.App > .body {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: var(--menu-width);\n}\n\ndiv.App > menu {\n    all: unset;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    width: var(--menu-width);\n    background-color: #0003;\n    padding: 1em;\n}",""]);const s=a},788:(n,e,t)=>{t.d(e,{Z:()=>s});var r=t(81),o=t.n(r),i=t(645),a=t.n(i)()(o());a.push([n.id,":root {\n    --background: linear-gradient(\n        200.96deg,\n        hsl(30, 99%, 58%) -5%,\n        hsl(210, 66%, 60%) 52%,\n        hsl(240, 56%, 40%) 120%\n    );\n}\n\n* {\n    box-sizing: border-box;\n}\n\nhtml, body, div#app {\n    position: absolute;\n    left: 0;\n    top: 0;\n    top: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n}\n\nbody {\n    color: white;\n    background: var(--background);\n    font-family: sans-serif;\n    overflow-y: hidden;\n}\n\nfieldset {\n    display: inline-block;\n    border: 1px solid var(--theme-color-on-screen-opacity-50);\n    background: var(--theme-color-screen-opacity-50);\n    color: var(--theme-color-on-screen);\n    border-radius: 1em;\n}\n\nfieldset.wide {\n    display: block;\n}\n\nfieldset > legend {\n    all: unset;\n    background: transparent;\n    padding: 0;\n}\n\nfieldset > legend > div.custom {\n    margin: 0;\n}\n\nbody > div#app {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    margin: 0;\n    padding: 0;\n}\n\nheader {\n    background-color: var(--theme-color-primary-dark);\n    color: var(--theme-color-on-primary-dark);\n    padding: 0 0.5em;\n    box-shadow: var(--theme-shadow-header);\n    flex: 0 0 auto;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    min-height: 3rem;\n}\n\nheader * {\n    margin-top: 0;\n    margin-bottom: 0;\n}\n\np {\n    font-size: 80%;\n    background-color: var(--theme-color-screen);\n    color: var(--theme-color-on-screen-opacity-50);\n    border-left: 0.5em solid var(--theme-color-accent-dark);\n    margin: 0.5em;\n    padding: 0.5em 1em;\n}\n\nbutton {\n    background: linear-gradient(\n        to left,\n        hsl(30, 99%, 38%) -5%,\n        hsl(210, 66%, 60%) 52%,\n        hsl(240, 56%, 40%) 120%\n    );\n    color: #fff;\n    border: none;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    font-variant: small-caps;\n    font-size: 110%;\n    height: 2em;\n    width: 100%;\n    margin: .5em 0;\n    cursor: pointer;\n    box-shadow: 0 4px 8px #000;\n}",""]);const s=a},100:(n,e,t)=>{t.d(e,{Z:()=>s});var r=t(81),o=t.n(r),i=t(645),a=t.n(i)()(o());a.push([n.id,".view-AspectRatioKeeperView {\n    display: grid;\n    place-items: center;    \n}\n",""]);const s=a},220:(n,e,t)=>{var r=t(893),o=t(294),i=t(379),a=t.n(i),s=t(795),l=t.n(s),c=t(569),u=t.n(c),d=t(565),h=t.n(d),p=t(216),f=t.n(p),b=t(589),m=t.n(b),g=t(100),v={};v.styleTagTransform=m(),v.setAttributes=h(),v.insert=u().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=f(),a()(g.Z,v),g.Z&&g.Z.locals&&g.Z.locals;var y=function(){return y=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},y.apply(this,arguments)};function w(n){var e=o.useRef(null);return o.useEffect((function(){var t=e.current;if(t){var r=function(){var e=t.childNodes[0];if(e){var r=t.getBoundingClientRect(),o=r.width,i=r.height,a=(o-n.margin)/n.originalWidth,s=(i-n.margin)/n.originalHeight,l=Math.min(a,s);e.style.width="".concat(Math.round(n.originalWidth*l),"px"),e.style.height="".concat(Math.round(n.originalHeight*l),"px"),n.onResize&&n.onResize(o,i)}},o=new ResizeObserver(r);return o.observe(t),r(),function(){return o.unobserve(t)}}}),[n.margin,n.originalWidth,n.originalHeight,n.children,e.current]),(0,r.jsx)("div",y({className:x(n),ref:e},{children:n.children}))}function x(n){var e=["custom","view-AspectRatioKeeperView"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}var k=function(n,e,t,r){return new(t||(t=Promise))((function(o,i){function a(n){try{l(r.next(n))}catch(n){i(n)}}function s(n){try{l(r.throw(n))}catch(n){i(n)}}function l(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}l((r=r.apply(n,e||[])).next())}))},j=function(n,e){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(n,a)}catch(n){i=[6,n],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const Z=function(){function n(){this._canvas=document.createElement("canvas"),this.image=null}return Object.defineProperty(n.prototype,"canvas",{get:function(){return this._canvas},set:function(n){this._canvas=n,this.paint()},enumerable:!1,configurable:!0}),n.prototype.paste=function(){return k(this,void 0,void 0,(function(){var n,e,t,r,o,i,a,s,l,c,u;return j(this,(function(d){switch(d.label){case 0:return d.trys.push([0,12,,13]),[4,R()];case 1:return d.sent(),[4,navigator.clipboard.read()];case 2:n=d.sent(),d.label=3;case 3:d.trys.push([3,9,10,11]),e=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t=e.next(),d.label=4;case 4:return t.done?[3,8]:(r=t.value).types.includes("image/png")?[4,r.getType("image/png")]:[3,7];case 5:return o=d.sent(),i=URL.createObjectURL(o),a=this,[4,O(i)];case 6:a.image=d.sent(),URL.revokeObjectURL(i),this.paint(),d.label=7;case 7:return t=e.next(),[3,4];case 8:return[3,11];case 9:return s=d.sent(),c={error:s},[3,11];case 10:try{t&&!t.done&&(u=e.return)&&u.call(e)}finally{if(c)throw c.error}return[7];case 11:return[3,13];case 12:return l=d.sent(),console.error(l),[3,13];case 13:return[2]}}))}))},n.prototype.paint=function(){var n=this.canvas,e=this.image;if(n&&e){n.width=e.width+80,n.height=e.height+80;var t=n.getContext("2d");t&&(t.clearRect(0,0,n.width,n.height),t.drawImage(e,40,40))}},n}();function O(n){return k(this,void 0,void 0,(function(){return j(this,(function(e){return[2,new Promise((function(e,t){var r=new Image;r.src=n,r.onload=function(){return e(r)},r.onerror=t}))]}))}))}function R(){return k(this,void 0,void 0,(function(){var n;return j(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,navigator.permissions.query({name:"clipboard-read"})];case 1:if("denied"===e.sent().state)throw new Error("Not allowed to read clipboard.");return[3,3];case 2:return n=e.sent(),console.error(n),[3,3];case 3:return[2]}}))}))}var A=t(164),E={};E.styleTagTransform=m(),E.setAttributes=h(),E.insert=u().bind(null,"head"),E.domAPI=l(),E.insertStyleElement=f(),a()(A.Z,E),A.Z&&A.Z.locals&&A.Z.locals;var N=function(){return N=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},N.apply(this,arguments)},P=new Z;function S(n){var e=o.useRef(P);return(0,r.jsxs)("div",N({className:T(n)},{children:[(0,r.jsx)(w,N({className:"body",margin:32,originalWidth:320,originalHeight:240},{children:(0,r.jsx)("canvas",{className:"preview"})})),(0,r.jsx)("menu",{children:(0,r.jsx)("button",N({onClick:function(){return e.current.paste()}},{children:"Paste from clipboard"}))})]}))}function T(n){var e=["custom","App"];return"string"==typeof n.className&&e.push(n.className),e.join(" ")}var z=t(745),I=t(788),C={};C.styleTagTransform=m(),C.setAttributes=h(),C.insert=u().bind(null,"head"),C.domAPI=l(),C.insertStyleElement=f(),a()(I.Z,C),I.Z&&I.Z.locals&&I.Z.locals;!function(){var n,e,t,o;n=this,e=void 0,o=function(){var n;return function(n,e){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(n,a)}catch(n){i=[6,n],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(e){if(!(n=document.getElementById("app")))throw Error('No element with id "app"!');return(0,z.s)(n).render((0,r.jsx)(S,{})),[2]}))},new((t=void 0)||(t=Promise))((function(r,i){function a(n){try{l(o.next(n))}catch(n){i(n)}}function s(n){try{l(o.throw(n))}catch(n){i(n)}}function l(n){var e;n.done?r(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}l((o=o.apply(n,e||[])).next())}))}()}},n=>{n.O(0,[977],(()=>(220,n(n.s=220)))),n.O()}]);